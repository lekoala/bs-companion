var X=".nav",L=".nav-link",T="dropdown-item",z="bs-tabs-dropdown",b="active",D="show",C="disabled",j=new ResizeObserver(t=>{for(let s of t){let e=s.target,n=e.tabs,i=30,o=Array.isArray(s.contentBoxSize)?s.contentBoxSize[0]:s.contentBoxSize,r=parseInt(o.inlineSize)-i,l=parseInt(n.dataset.baseWidth);r<l?e.classList.add(z):r>=l&&(e.classList.remove(z),e.menu.style.display="none")}}),k=class extends HTMLElement{constructor(){super()}setBaseWidth(){let s=0;this.querySelectorAll("li").forEach(e=>{e.dataset.baseWidth=""+e.offsetWidth,s+=parseInt(e.dataset.baseWidth)}),this.tabs.dataset.baseWidth=""+s}createMobileMenu(){this.menu=document.createElement("ul"),this.menu.classList.add("dropdown-menu"),this.querySelectorAll("li").forEach(s=>{let e=s.querySelector("a")||s.querySelector("button"),n=document.createElement("li"),i=document.createElement("a"),o=e.dataset.bsTarget||e.getAttribute("href");n.append(i),i.dataset.link=e.getAttribute("id"),i.classList.add(T,"text-wrap"),i.innerHTML=e.innerHTML.replace(/<br[^>]*>/," "),i.setAttribute("href",o),(e.classList.contains(C)||e.hasAttribute(C))&&i.classList.add(C),this.menu.append(n)}),this.append(this.menu)}handleEvent(s){let e=s.target;s.type==="show.bs.tab"?this.handleTabShow(e):e.matches(L)?this.handleNavClick(e):e.matches("."+T)&&(s.preventDefault(),this.handleDropdownClick(e))}handleDropdownClick(s){document.getElementById(s.dataset.link).dispatchEvent(new Event("click",{bubbles:!0})),this.menu.style.display="none"}handleNavClick(s){if(!s.classList.contains(b)||!this.classList.contains(z))return;let e=this.menu.querySelector("."+T+"[hidden]");e&&e.removeAttribute("hidden");let n=s.dataset.bsTarget||s.getAttribute("href"),i=this.menu.querySelector("a[href='"+n+"']");i&&i.setAttribute("hidden","hidden"),this.menu.style.display=="block"?this.menu.style.display="none":(this.menu.style.display="block",this.menu.style.top=s.parentElement.offsetHeight+"px")}makeResponsive(){this.setBaseWidth(),this.createMobileMenu()}persistHash(){document.querySelectorAll("input[name=_hash]").forEach(s=>{s.value=document.location.hash})}restoreState(){let s=document.location.hash;if(!s)return;let e=s.split("__").slice(0,-1);e.push(s),e.forEach(n=>{let i=this.querySelector("[data-bs-target='"+n+"']");i&&this.setActiveTab(i)}),this.persistHash()}setActiveTab(s){s.classList.add(b);let e=document.querySelector(s.dataset.bsTarget);e&&e.classList.add(b,D),typeof bootstrap<"u"&&(bootstrap.Tab.getInstance(s)||new bootstrap.Tab(s)).show()}removeActiveTab(){this.querySelectorAll(L+"."+b).forEach(s=>{s.classList.remove(b);let e=document.querySelector(s.dataset.bsTarget);e&&e.classList.remove(b,D)})}getActiveTab(){return this.tabs.querySelector("."+b)}setDefaultTab(){if(this.getActiveTab())return;let s=this.tabs.querySelector(L+":not(["+C+"]):not(."+C+")");s&&this.setActiveTab(s)}handleTabShow(s){if(this.hasAttribute("linkable")){let e=s.dataset.bsTarget;if(e){let n=new URL(window.location.href);n.hash=e,window.history.pushState({},"",n),this.persistHash()}}}makeLinkable(){this.removeActiveTab(),this.restoreState(),this.setDefaultTab()}connectedCallback(){this.tabs=this.querySelector(X),this.addEventListener("show.bs.tab",this),this.hasAttribute("linkable")&&this.makeLinkable(),this.hasAttribute("responsive")&&(this.addEventListener("click",this),this.makeResponsive(),j.observe(this)),this.style.visibility="visible"}disconnectedCallback(){this.removeEventListener("show.bs.tab",this),this.hasAttribute("responsive")&&(this.removeEventListener("click",this),j.unobserve(this))}},q=k;function E(t){if(t==="true")return!0;if(t==="false")return!1;if(t===""||t==="null")return null;if(t===Number(t).toString())return Number(t);if(t.indexOf("[")===0||t.indexOf("{")===0)try{return t.includes('"')||(t=t.split("'").join('"')),JSON.parse(decodeURIComponent(t))}catch{return console.log("Failed to parse "+t),{}}return t}var G=new ResizeObserver(t=>{for(let s of t){let e=s.target,n=bootstrap.Tooltip.getInstance(e)||new bootstrap.Tooltip(e,e.parentElement.options);E(getComputedStyle(e).getPropertyValue("--tooltip-enable").trim())?n.enable():n.disable()}}),N=class extends HTMLElement{constructor(){super()}connectedCallback(){let s={...this.dataset};for(var e in s)s[e]=E(s[e]);let n=s.toggle?s.toggle[0].toUpperCase()+s.toggle.substring(1):"Tooltip",i=this.firstElementChild;!i.hasAttribute("title")&&!s.title&&i.setAttribute("title",i.textContent.trim()),this.options=s,this.toggle=new bootstrap[n](i,this.options),this.hasAttribute("mobile")&&G.observe(i)}},I=N;function J(t){return Array.from(t).sort(function(s,e){return s=s.dataset.priority||0,e=e.dataset.priority||-1,e-s})}var P=new ResizeObserver(t=>{for(let s of t){let e=s.target,n=e.table,i=Array.isArray(s.contentBoxSize)?s.contentBoxSize[0]:s.contentBoxSize,o=parseInt(i.inlineSize),l=n.offsetWidth-o;if(n.offsetWidth>o){let m=e.cols.filter(u=>!u.hasAttribute("hidden")&&u.hasAttribute("data-priority"));if(m.length===0&&(m=e.cols.filter(u=>!u.hasAttribute("hidden")),m.length===1))return;m.forEach(u=>{if(l<0)return;let c=u.offsetWidth,h=u.ariaColIndex;e.toggleColumn(h,!1),e.toggleAltContent(h,!0),l-=c})}else{let u=e.cols.filter(c=>!c.hasAttribute("hidden")).reduce((c,h)=>c+parseInt(h.dataset.baseWidth),0)+50;e.cols.filter(c=>c.hasAttribute("hidden")).forEach(c=>{let h=parseInt(c.dataset.baseWidth),a=c.ariaColIndex;o<h+u||(e.toggleColumn(a,!0),e.toggleAltContent(a,!1),l+=h)})}}}),$=class extends HTMLElement{constructor(){super(),this.style.display="block",this.style.overflowX="hidden",this.altSelector=this.getAttribute("alt-selector")||".responsive-table-alt"}init(){this.table=this.querySelector("table"),this.holder=this.querySelector("thead")||this.querySelector("tr"),this.assignColIndex(),this.cols=this.holder.querySelectorAll("th"),this.cols=J(this.cols),this.toggleAltContent(null,!1)}connectedCallback(){this.init(),P.observe(this)}disconnectedCallback(){P.unobserve(this)}toggleColumn(s,e){this.table.querySelectorAll("[aria-colindex='"+s+"']").forEach(i=>{e?i.removeAttribute("hidden"):i.setAttribute("hidden","")})}toggleAltContent(s,e){let n=s?this.altSelector+"[data-index='"+s+"']":this.altSelector;this.table.querySelectorAll(n).forEach(o=>{e?o.removeAttribute("hidden"):o.setAttribute("hidden","")})}assignColIndex(){this.table.dataset.baseWidth=""+this.table.offsetWidth,this.querySelectorAll("tr").forEach(s=>{let e=0;s.querySelectorAll("th,td").forEach(n=>{e+=n.hasAttribute("colspan")?parseInt(n.getAttribute("colspan")):1,n.ariaColIndex||(n.ariaColIndex=""+e),n.dataset.baseWidth=""+n.offsetWidth})})}},W=$;var Y=0;function v(t){typeof t=="string"&&(t={body:t}),t=Object.assign({},{gap:"1rem",className:"",placement:"top-center",btnClose:!0,buttonLabel:"Close Notification",buttonClassName:"",animation:!0,autohide:!0,delay:5e3},t);let e={once:!0},n=d=>d[0].toUpperCase()+d.substring(1),[i,o]=t.placement.split("-"),r=o=="center"?"50%":"0",l="margin"+n(i),m="margin"+n(i=="top"?"bottom":"top"),u=o=="center"?"left":o;t.className.includes("text-white")&&!t.buttonClassName&&(t.buttonClassName="btn-close-white");let c=document.createElement("button");c.className=`btn-close flex-shrink-0 ${t.buttonClassName}`,c.ariaLabel=t.buttonLabel,c.setAttribute("data-bs-dismiss","toast");let h=document.createElement("div");h.className="toast-body",h.innerHTML=`<div class="d-flex w-100"><div class="flex-grow-1">${t.body}</div></div></div>`,h.style.overflowWrap="anywhere",t.header||h.firstChild.appendChild(c);let a=document.createElement("div");a.id=t.id||`toast-${++Y}`,a.className="toast toaster border-0 bg-white",a.role="alert",a.ariaLive="assertive",a.ariaAtomic="true",a.style[m]=t.gap,t.animation&&(a.style[l]="-48px");let w=document.createElement("div");if(w.className=`${t.className}`,w.style.borderRadius="var(--bs-toast-border-radius)",a.append(w),t.header){let d=document.createElement("div");d.className="toast-header",d.innerHTML=`<div class="d-flex align-items-center justify-content-between flex-grow-1">${t.header}</div></div>`,d.firstChild.appendChild(c),w.append(d)}w.append(h);let p=document.querySelector(`.toast-container.${t.placement}`);if(!p){let d=`${i}:0;${u}:${r};${r==="50%"?"transform: translateX(-50%)":""};z-index:1081;position:fixed;padding:${t.gap};`;p=document.createElement("div"),p.className=`toast-container toaster-container ${t.placement}`,p.style.cssText=d,document.body.insertAdjacentElement("afterbegin",p)}p.appendChild(a);let S=new bootstrap.Toast(a,{animation:t.animation,autohide:t.autohide,delay:t.delay});return a.addEventListener("show.bs.toast",()=>{t.animation&&setTimeout(()=>{let d=parseFloat(getComputedStyle(a).transitionDuration)*1e3;a.style.transition=`all ${d*4}ms cubic-bezier(0.165, 0.840, 0.440, 1.000), opacity ${d}ms linear`,a.style[l]="0px",a.style.opacity="1"},0)},e),a.addEventListener("hide.bs.toast",()=>{a.style.pointerEvents="none",t.animation&&setTimeout(()=>{let d=window.getComputedStyle(a),U=parseFloat(d.marginBottom),_=Math.ceil(a.offsetHeight+U);a.style.transform="scale(0)",a.style.marginTop=`-${_}px`,a.style.opacity="0"},0)},e),a.addEventListener("hidden.bs.toast",()=>{S.dispose(),a.remove()},e),S.show(),S}var f={baseClassName:"text-white"},M=class{static getOption(s){return f[s]??null}static setOption(s,e){f[s]=e}static enableGradient(){f.baseClassName="bg-gradient text-white"}static enableSoft(){f.baseClassName="text-dark bg-opacity-10"}static enableDefault(){f.baseClassName="text-white"}static toast(s,e={}){e=Object.assign({},f,e),e.body=s,e.className=e.className+" "+f.baseClassName,v(e)}static success(s,e={}){this.toast(s,{className:"bg-success",...e})}static error(s,e={}){this.toast(s,{className:"bg-danger",...e})}static warning(s,e={}){this.toast(s,{className:"bg-warning",...e})}static info(s,e={}){this.toast(s,{className:"bg-info",...e})}},B=M;var Z='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',K='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"/></svg>',Q='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',ee=0;function g(t={}){typeof t=="string"&&(t={body:t});let s={id:"",size:"",static:!1,animated:!0,scrollable:!0,centered:!0,fullscreen:!1,showClose:!0,closeLabel:"Close",showConfirm:!1,confirmText:Q,confirmClass:"success",showCancel:!1,cancelText:Z,cancelClass:document.documentElement.dataset.bsTheme=="dark"?"dark":"light",showDeny:!1,denyText:K,denyClass:"danger",showIcon:!0,icon:"warning"};t=Object.assign({},s,t),t.id=t.id||`modal-${++ee}`;let e={once:!0},n=' data-bs-backdrop="static" data-bs-keyboard="false"',i=document.createElement("template");i.innerHTML=`<div class="modal${t.scrollable?" fade":""}${t.size?" modal-"+t.size:""}" id="${t.id}"${t.static?n:""} tabindex="-1" aria-hidden="true">
  <div class="modal-dialog${t.scrollable?" modal-dialog-scrollable":""}${t.scrollable?" modal-dialog-centered ":""}${t.fullscreen?" modal-fullscreen":""}">
    <div class="modal-content text-center" style="border:0">
     <button type="button" class="btn-close position-absolute top-0 end-0 m-3" data-bs-dismiss="modal" aria-label="${t.closeLabel}"></button>
      <div class="modal-icon-holder p-3 pt-4 pb-0"><div class="modal-icon modal-${t.icon}"></div></div>
      <div class="modal-title d-flex p-3 pt-4 pb-0 align-items-center justify-content-center">
        <h5 class="fs-2">${t.title}</h4>
      </div>
      <div class="modal-body"><form>
        ${t.body}
      </form></div>
      <div class="modal-actions d-flex mt-2 justify-content-center">
        <div class="btn-group flex-fill" style="min-height:44px">
          <button type="button" data-event="cancel" class="btn btn-${t.cancelClass} rounded-0">${t.cancelText}</button>
          <button type="button" data-event="deny" class="btn btn-${t.denyClass} rounded-0">${t.denyText}</button>
          <button type="button" data-event="confirm" class="btn btn-${t.confirmClass} rounded-0">${t.confirmText}</button>
        </div>
      </div>
    </div>
    </div>
  </div>
</div>
`;let o=i.content.firstChild;t.title||o.querySelector(".modal-title").remove(),t.showIcon||o.querySelector(".modal-icon-holder").remove(),t.showClose||o.querySelector(".btn-close").remove(),t.showCancel||o.querySelector('[data-event="cancel"]').remove(),t.showDeny||o.querySelector('[data-event="deny"]').remove(),t.showConfirm||o.querySelector('[data-event="confirm"]').remove(),!t.showCancel&&!t.showDeny&&!t.showConfirm&&o.querySelector(".modal-actions").remove(),document.body.insertAdjacentElement("afterbegin",o);let r=new bootstrap.Modal(o);return o.addEventListener("hide.bs.modal",()=>{o.style.pointerEvents="none"},e),o.addEventListener("hidden.bs.modal",()=>{o.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(l=>bootstrap.Tooltip.getInstance(l).dispose()),o.querySelectorAll('[data-bs-toggle="popover"]').forEach(l=>bootstrap.Popover.getInstance(l).dispose()),r.dispose(),o.remove()},e),o.querySelectorAll(".modal-actions button").forEach(l=>{l.addEventListener("click",m=>{r.hide(),o.dispatchEvent(new CustomEvent("modal."+l.dataset.event,{detail:new FormData(o.querySelector("form")),bubbles:!0}))},e)}),o.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(l=>bootstrap.Tooltip.getInstance(l)||new bootstrap.Tooltip(l)),o.querySelectorAll('[data-bs-toggle="popover"]').forEach(l=>bootstrap.Popover.getInstance(l)||new bootstrap.Popover(l)),r.show(),t.icon&&t.animated&&t.showIcon&&o.addEventListener("shown.bs.modal",()=>o.querySelector(".modal-icon").classList.add("modal-icon-show"),e),r}function A(t={},s=null,e=null){typeof t=="string"&&(t={body:t}),t=Object.assign({static:!0,showClose:!1,showCancel:!0,showConfirm:!0},t);let n={once:!0},i=g(t),o=i.element||i._element;return s&&o.addEventListener("modal.confirm",r=>s(r),n),e&&o.addEventListener("modal.cancel",r=>e(r),n),i}var y="is-invalid",V="novalidate",x=class{constructor(s){s.hasAttribute(V)||s.setAttribute(V,""),s.addEventListener("submit",e=>{s.querySelectorAll(".nav-tabs .nav-link."+y).forEach(i=>{i.classList.remove(y)}),s.querySelectorAll(".accordion-item."+y).forEach(i=>{i.classList.remove(y)});let n=null;Array.from(s.elements).forEach(i=>{if(i.checkValidity())return;n||(n=i);let o=i.parentElement,r=null;for(;o&&!o.classList.contains("tab-pane");)o.classList.contains("accordion-item")&&(r=o),o=o.parentElement;if(o&&!o.classList.contains("active")){let l=s.querySelector("[data-bs-target='#"+o.getAttribute("id")+"']");l&&l.classList.add(y)}r&&r.classList.add(y)}),s.checkValidity()||(e.preventDefault(),e.stopPropagation(),s.dataset.validationMessage&&typeof window.Toasts<"u"&&window.Toasts.error(s.dataset.validationMessage),n&&n.focus()),s.classList.add("was-validated")},!1)}static init(s=".needs-validation"){document.querySelectorAll(s).forEach(e=>{new x(e)})}},H=x;var te="lazyload",F=new window.IntersectionObserver((t,s)=>{t.forEach(async e=>{e.isIntersecting&&(s.unobserve(e.target),Array.from(e.target.children).forEach(n=>{n.dispatchEvent(new Event(te,{bubbles:!0}))}))})}),O=class extends HTMLElement{constructor(){super()}connectedCallback(){setTimeout(()=>{F.observe(this)})}disconnectedCallback(){F.unobserve(this)}},R=O;window.BSN&&!window.bootstrap&&(window.bootstrap=window.BSN);customElements.define("bs-tabs",q);customElements.define("bs-toggle",I);customElements.define("responsive-table",W);customElements.define("lazy-loader",R);window.toaster=v;window.Toasts=B;window.modalizer=g;window.modalizerConfirm=A;window.FormValidator=H;var se={BsTabs:q,BsToggle:I,ResponsiveTable:W,toaster:v,Toasts:B,modalizer:g,modalizerConfirm:A,FormValidator:H},Se=se;export{Se as default};
//# sourceMappingURL=bs-companion.min.js.map
