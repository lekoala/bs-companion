var F=".nav",x=".nav-link",L="dropdown-item",z="bs-tabs-dropdown",m="active",H="show",w="disabled",D=new ResizeObserver(s=>{for(let e of s){let t=e.target,i=t.tabs,o=30,n=Array.isArray(e.contentBoxSize)?e.contentBoxSize[0]:e.contentBoxSize,a=parseInt(n.inlineSize)-o,u=parseInt(i.dataset.baseWidth);a<u?t.classList.add(z):a>=u&&(t.classList.remove(z),t.menu.style.display="none")}}),T=class extends HTMLElement{constructor(){super(),this.lazySelector=".lazy-loadable",this.lazyEvent="lazyload"}setBaseWidth(){let e=0;this.querySelectorAll("li").forEach(t=>{t.dataset.baseWidth=""+t.offsetWidth,e+=parseInt(t.dataset.baseWidth)}),this.tabs.dataset.baseWidth=""+e}createMobileMenu(){this.menu=document.createElement("ul"),this.menu.classList.add("dropdown-menu"),this.querySelectorAll("li").forEach(e=>{let t=e.querySelector("a")||e.querySelector("button"),i=document.createElement("li"),o=document.createElement("a"),n=t.dataset.bsTarget||t.getAttribute("href");i.append(o),o.dataset.link=t.getAttribute("id"),o.classList.add(L,"text-wrap"),o.innerHTML=t.innerHTML.replace(/<br[^>]*>/," "),o.setAttribute("href",n),(t.classList.contains(w)||t.hasAttribute(w))&&o.classList.add(w),this.menu.append(i)}),this.append(this.menu)}handleEvent(e){let t=e.target;e.type==="show.bs.tab"?this.handleTabShow(t):t.matches(x)?this.handleNavClick(t):t.matches("."+L)&&(e.preventDefault(),this.handleDropdownClick(t))}handleDropdownClick(e){console.log(e.dataset.link),document.getElementById(e.dataset.link).dispatchEvent(new Event("click",{bubbles:!0})),this.menu.style.display="none"}handleNavClick(e){if(!e.classList.contains(m)||!this.classList.contains(z))return;let t=this.menu.querySelector("."+L+"[hidden]");t&&t.removeAttribute("hidden");let i=e.dataset.bsTarget||e.getAttribute("href"),o=this.menu.querySelector("a[href='"+i+"']");o&&o.setAttribute("hidden","hidden"),this.menu.style.display=="block"?this.menu.style.display="none":(this.menu.style.display="block",this.menu.style.top=e.parentElement.offsetHeight+"px")}makeResponsive(){this.setBaseWidth(),this.createMobileMenu()}persistHash(){document.querySelectorAll("input[name=_hash]").forEach(e=>{e.value=document.location.hash})}restoreState(){let e=document.location.hash;if(!e)return;let t=e.split("__").slice(0,-1);t.push(e),t.forEach(i=>{let o=this.querySelector("[data-bs-target='"+i+"']");o&&this.setActiveTab(o)}),this.persistHash()}setActiveTab(e){e.classList.add(m);let t=document.querySelector(e.dataset.bsTarget);t&&t.classList.add(m,H),typeof bootstrap<"u"&&(bootstrap.Tab.getInstance(e)||new bootstrap.Tab(e)).show()}removeActiveTab(){this.querySelectorAll(x+"."+m).forEach(e=>{e.classList.remove(m);let t=document.querySelector(e.dataset.bsTarget);t&&t.classList.remove(m,H)})}getActiveTab(){return this.tabs.querySelector("."+m)}setDefaultTab(){if(this.getActiveTab())return;let e=this.tabs.querySelector(x+":not(["+w+"]):not(."+w+")");e&&this.setActiveTab(e)}triggerLazyElements(e){if(!e)return;let t=document.querySelector(e.dataset.bsTarget);if(!t)return;let i=t.dataset.lazySelector??this.lazySelector,o=t.dataset.lazyEvent??this.lazyEvent;t.querySelectorAll(i).forEach(n=>{n.closest(".tab-pane")===t&&n.dispatchEvent(new Event(o,{bubbles:!0}))}),t.querySelectorAll(x+"."+m).forEach(n=>{this.triggerLazyElements(n)})}handleTabShow(e){if(this.triggerLazyElements(e),this.hasAttribute("linkable")){let t=e.dataset.bsTarget;if(t){let i=new URL(window.location.href);i.hash=t,window.history.pushState({},"",i),this.persistHash()}}}makeLinkable(){this.removeActiveTab(),this.restoreState(),this.setDefaultTab()}connectedCallback(){this.tabs=this.querySelector(F),this.addEventListener("show.bs.tab",this),this.hasAttribute("linkable")&&this.makeLinkable(),this.hasAttribute("responsive")&&(this.addEventListener("click",this),this.makeResponsive(),D.observe(this)),this.style.visibility="visible",this.offsetWidth&&this.triggerLazyElements(this.getActiveTab())}disconnectedCallback(){this.removeEventListener("show.bs.tab",this),this.hasAttribute("responsive")&&(this.removeEventListener("click",this),D.unobserve(this))}},q=T;function E(s){if(s==="true")return!0;if(s==="false")return!1;if(s===""||s==="null")return null;if(s===Number(s).toString())return Number(s);if(s.indexOf("[")===0||s.indexOf("{")===0)try{return s.includes('"')||(s=s.split("'").join('"')),JSON.parse(decodeURIComponent(s))}catch{return console.log("Failed to parse "+s),{}}return s}var R=new ResizeObserver(s=>{for(let e of s){let t=e.target,i=bootstrap.Tooltip.getInstance(t)||new bootstrap.Tooltip(t,t.parentElement.options);E(getComputedStyle(t).getPropertyValue("--tooltip-enable").trim())?i.enable():i.disable()}}),k=class extends HTMLElement{constructor(){super()}connectedCallback(){let e={...this.dataset};for(var t in e)e[t]=E(e[t]);let i=e.toggle?e.toggle[0].toUpperCase()+e.toggle.substring(1):"Tooltip",o=this.firstElementChild;!o.hasAttribute("title")&&!e.title&&o.setAttribute("title",o.textContent.trim()),this.options=e,this.toggle=new bootstrap[i](o,this.options),this.hasAttribute("mobile")&&R.observe(o)}},N=k;function U(s){return Array.from(s).sort(function(e,t){return e=e.dataset.priority||0,t=t.dataset.priority||-1,t-e})}var O=new ResizeObserver(s=>{for(let e of s){let t=e.target,i=t.table,o=Array.isArray(e.contentBoxSize)?e.contentBoxSize[0]:e.contentBoxSize,n=parseInt(o.inlineSize),u=i.offsetWidth-n;if(i.offsetWidth>n){let b=t.cols.filter(h=>!h.hasAttribute("hidden")&&h.hasAttribute("data-priority"));if(b.length===0&&(b=t.cols.filter(h=>!h.hasAttribute("hidden")),b.length===1))return;b.forEach(h=>{if(u<0)return;let r=h.offsetWidth,d=h.ariaColIndex;t.toggleColumn(d,!1),t.toggleAltContent(d,!0),u-=r})}else{let h=t.cols.filter(r=>!r.hasAttribute("hidden")).reduce((r,d)=>r+parseInt(d.dataset.baseWidth),0)+50;t.cols.filter(r=>r.hasAttribute("hidden")).forEach(r=>{let d=parseInt(r.dataset.baseWidth),l=r.ariaColIndex;n<d+h||(t.toggleColumn(l,!0),t.toggleAltContent(l,!1),u+=d)})}}}),$=class extends HTMLElement{constructor(){super(),this.style.display="block",this.style.overflowX="hidden",this.altSelector=this.getAttribute("alt-selector")||".responsive-table-alt"}init(){this.table=this.querySelector("table"),this.holder=this.querySelector("thead")||this.querySelector("tr"),this.assignColIndex(),this.cols=this.holder.querySelectorAll("th"),this.cols=U(this.cols),this.toggleAltContent(null,!1)}connectedCallback(){this.init(),O.observe(this)}disconnectedCallback(){O.unobserve(this)}toggleColumn(e,t){this.table.querySelectorAll("[aria-colindex='"+e+"']").forEach(o=>{t?o.removeAttribute("hidden"):o.setAttribute("hidden","")})}toggleAltContent(e,t){let i=e?this.altSelector+"[data-index='"+e+"']":this.altSelector;this.table.querySelectorAll(i).forEach(n=>{t?n.removeAttribute("hidden"):n.setAttribute("hidden","")})}assignColIndex(){this.table.dataset.baseWidth=""+this.table.offsetWidth,this.querySelectorAll("tr").forEach(e=>{let t=0;e.querySelectorAll("th,td").forEach(i=>{t+=i.hasAttribute("colspan")?parseInt(i.getAttribute("colspan")):1,i.ariaColIndex||(i.ariaColIndex=""+t),i.dataset.baseWidth=""+i.offsetWidth})})}},I=$;function g(s){typeof s=="string"&&(s={body:s}),s=Object.assign({},{gap:"1rem",className:"",placement:"top-center",btnClose:!0,buttonLabel:"Close Notification",buttonClassName:"",animation:!0,autohide:!0,delay:5e3},s);let t={once:!0},i=c=>c[0].toUpperCase()+c.substring(1),[o,n]=s.placement.split("-"),a=n=="center"?"50%":"0",u="margin"+i(o),b="margin"+i(o=="top"?"bottom":"top"),h=n=="center"?"left":n;s.className.includes("text-white")&&!s.buttonClassName&&(s.buttonClassName="btn-close-white");let r=document.createElement("button");r.className=`btn-close flex-shrink-0 ${s.buttonClassName}`,r.ariaLabel=s.buttonLabel,r.setAttribute("data-bs-dismiss","toast");let d=document.createElement("div");d.className="toast-body",d.innerHTML=`<div class="d-flex w-100"><div class="flex-grow-1">${s.body}</div></div></div>`,s.header||d.firstChild.appendChild(r);let l=document.createElement("div");l.id=s.id||"toast-"+Date.now(),l.className="toast toaster border-0 bg-white",l.role="alert",l.ariaLive="assertive",l.ariaAtomic="true",l.style[b]=s.gap,s.animation&&(l.style[u]="-48px");let v=document.createElement("div");if(v.className=`${s.className}`,v.style.borderRadius="var(--bs-toast-border-radius)",l.append(v),s.header){let c=document.createElement("div");c.className="toast-header",c.innerHTML=`<div class="d-flex align-items-center justify-content-between flex-grow-1">${s.header}</div></div>`,c.firstChild.appendChild(r),v.append(c)}v.append(d);let p=document.querySelector(`.toast-container.${s.placement}`);if(!p){let c=`${o}:0;${h}:${a};${a==="50%"?"transform: translateX(-50%)":""};z-index:1081;position:fixed;padding:${s.gap};`;p=document.createElement("div"),p.className=`toast-container toaster-container ${s.placement}`,p.style.cssText=c,document.body.insertAdjacentElement("afterbegin",p)}p.appendChild(l);let A=new bootstrap.Toast(l,{animation:s.animation,autohide:s.autohide,delay:s.delay});return l.addEventListener("show.bs.toast",()=>{s.animation&&setTimeout(()=>{let c=parseFloat(getComputedStyle(l).transitionDuration)*1e3;l.style.transition=`all ${c*4}ms cubic-bezier(0.165, 0.840, 0.440, 1.000), opacity ${c}ms linear`,l.style[u]=0},0)},t),l.addEventListener("hide.bs.toast",()=>{s.animation&&setTimeout(()=>{let c=window.getComputedStyle(l),j=parseFloat(c.marginBottom),P=Math.ceil(l.offsetHeight+j);l.style.transform="scale(0)",l.style.marginTop=`-${P}px`},0)},t),l.addEventListener("hidden.bs.toast",()=>{setTimeout(()=>{A.dispose(),l.remove()},1e3)},t),A.show(),A}var f={baseClassName:"text-white"},W=class{static getOption(e){return f[e]??null}static setOption(e,t){f[e]=t}static enableGradient(){f.baseClassName="bg-gradient text-white"}static enableSoft(){f.baseClassName="text-dark bg-opacity-10"}static enableDefault(){f.baseClassName="text-white"}static toast(e,t={}){t=Object.assign({},f,t),t.body=e,t.className=t.className+" "+f.baseClassName,g(t)}static success(e,t={}){this.toast(e,{className:"bg-success",...t})}static error(e,t={}){this.toast(e,{className:"bg-danger",...t})}static warning(e,t={}){this.toast(e,{className:"bg-warning",...t})}static info(e,t={}){this.toast(e,{className:"bg-info",...t})}},M=W;var V='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',_='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"/></svg>',X='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>';function y(s={}){typeof s=="string"&&(s={body:s});let e={id:"modal-"+Date.now(),size:"",static:!1,animated:!0,scrollable:!0,centered:!0,fullscreen:!1,showClose:!0,closeLabel:"Close",showConfirm:!1,confirmText:X,confirmClass:"success",showCancel:!1,cancelText:V,cancelClass:"light",showDeny:!1,denyText:_,denyClass:"danger",showIcon:!0,icon:"warning"};s=Object.assign({},e,s);let t=' data-bs-backdrop="static" data-bs-keyboard="false"',i=document.createElement("template");i.innerHTML=`<div class="modal${s.scrollable?" fade":""}${s.size?" modal-"+s.size:""}" id="${s.id}"${s.static?t:""} tabindex="-1" aria-hidden="true">
  <div class="modal-dialog${s.scrollable?" modal-dialog-scrollable":""}${s.scrollable?" modal-dialog-centered ":""}${s.fullscreen?" modal-fullscreen":""}">
    <div class="modal-content text-center" style="border:0">
     <button type="button" class="btn-close position-absolute top-0 end-0 m-3" data-bs-dismiss="modal" aria-label="${s.closeLabel}"></button>
      <div class="modal-icon-holder p-3 pt-4 pb-0"><div class="modal-icon modal-${s.icon}"></div></div>
      <div class="modal-title d-flex p-3 pt-4 pb-0 align-items-center justify-content-center">
        <h5 class="fs-2">${s.title}</h4>
      </div>
      <div class="modal-body"><form>
        ${s.body}
      </form></div>
      <div class="modal-actions d-flex mt-2 justify-content-center">
        <div class="btn-group flex-fill" style="min-height:44px">
          <button type="button" data-event="cancel" class="btn btn-${s.cancelClass} rounded-0">${s.cancelText}</button>
          <button type="button" data-event="deny" class="btn btn-${s.denyClass} rounded-0">${s.denyText}</button>
          <button type="button" data-event="confirm" class="btn btn-${s.confirmClass} rounded-0">${s.confirmText}</button>
        </div>
      </div>
    </div>
    </div>
  </div>
</div>
`;let o=i.content.firstChild;s.title||o.querySelector(".modal-title").remove(),s.showIcon||o.querySelector(".modal-icon-holder").remove(),s.showClose||o.querySelector(".btn-close").remove(),s.showCancel||o.querySelector('[data-event="cancel"]').remove(),s.showDeny||o.querySelector('[data-event="deny"]').remove(),s.showConfirm||o.querySelector('[data-event="confirm"]').remove(),!s.showCancel&&!s.showDeny&&!s.showConfirm&&o.querySelector(".modal-actions").remove(),document.body.insertAdjacentElement("afterbegin",o);let n=new bootstrap.Modal(o);return o.addEventListener("hidden.bs.modal",()=>{o.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(a=>bootstrap.Tooltip.getInstance(a).dispose()),o.querySelectorAll('[data-bs-toggle="popover"]').forEach(a=>bootstrap.Popover.getInstance(a).dispose()),setTimeout(()=>{n.dispose(),o.remove()},1e3)},{once:!0}),o.querySelectorAll(".modal-actions button").forEach(a=>{a.addEventListener("click",u=>{n.hide(),o.dispatchEvent(new CustomEvent("modal."+a.dataset.event,{detail:new FormData(o.querySelector("form")),bubbles:!0}))},{once:!0})}),o.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(a=>bootstrap.Tooltip.getInstance(a)||new bootstrap.Tooltip(a)),o.querySelectorAll('[data-bs-toggle="popover"]').forEach(a=>bootstrap.Popover.getInstance(a)||new bootstrap.Popover(a)),n.show(),s.icon&&s.animated&&s.showIcon&&o.addEventListener("shown.bs.modal",()=>o.querySelector(".modal-icon").classList.add("modal-icon-show"),{once:!0}),n}function S(s={},e=null,t=null){typeof s=="string"&&(s={body:s}),s=Object.assign({static:!0,showClose:!1,showCancel:!0,showConfirm:!0},s);let i={once:!0},o=y(s),n=o.element||o._element;return e&&n.addEventListener("modal.confirm",a=>e(a),i),t&&n.addEventListener("modal.cancel",a=>t(a),i),o}var C=class{constructor(e){e.hasAttribute("novalidate")||e.setAttribute("novalidate",""),e.addEventListener("submit",t=>{e.querySelectorAll(".nav-tabs .nav-link.is-invalid").forEach(i=>{i.classList.remove("is-invalid")}),e.querySelectorAll(".accordion-item.is-invalid").forEach(i=>{i.classList.remove("is-invalid")}),Array.from(e.elements).forEach(i=>{if(!i.checkValidity()){let o=i.parentElement,n=null;for(;o&&!o.classList.contains("tab-pane");)o.classList.contains("accordion-item")&&(n=o),o=o.parentElement;if(o&&!o.classList.contains("active")){let a=e.querySelector("[data-bs-target='#"+o.getAttribute("id")+"']");a&&a.classList.add("is-invalid")}n&&n.classList.add("is-invalid")}}),e.checkValidity()||(t.preventDefault(),t.stopPropagation(),e.dataset.validationMessage&&window.toaster({body:e.dataset.validationMessage,className:"border-0 bg-danger text-white"})),e.classList.add("was-validated")},!1)}static init(e=".needs-validation"){document.querySelectorAll(e).forEach(t=>{new C(t)})}},B=C;customElements.define("bs-tabs",q);customElements.define("bs-toggle",N);customElements.define("responsive-table",I);window.toaster=g;window.Toasts=M;window.modalizer=y;window.modalizerConfirm=S;window.FormValidator=B;var G={BsTabs:q,BsToggle:N,ResponsiveTable:I,toaster:g,modalizer:y,modalizerConfirm:S,FormValidator:B,Toasts:M},fe=G;export{fe as default};
//# sourceMappingURL=bs-companion.min.js.map
