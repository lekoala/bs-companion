function f(e){let t=e;do{if(t.nextSibling){e.parsedCallback();return}t=t.parentNode}while(t);setTimeout(()=>{f(e)})}function E(e,t={}){let s=document.createElement(e);for(let[i,o]of Object.entries(t))s[i]=o;return s}var se=".nav",q=".nav-link",z="dropdown-item",N="bs-tabs-dropdown",p="active",P="show",S="disabled",j=new ResizeObserver(e=>{for(let t of e){let s=t.target,i=s.tabs,o=30,n=Array.isArray(t.contentBoxSize)?t.contentBoxSize[0]:t.contentBoxSize,a=parseInt(n.inlineSize)-o-1,r=parseInt(i.dataset.baseWidth);a<r?s.classList.add(N):a>=r&&(s.classList.remove(N),s.menu.style.display="none")}});function oe(e){let t=new URL(window.location.href);return t.hash=e,t}var I=class extends HTMLElement{constructor(){super()}setBaseWidth(){let t=0;this.querySelectorAll("li").forEach(s=>{s.dataset.baseWidth=""+s.offsetWidth,t+=parseInt(s.dataset.baseWidth)}),this.tabs.dataset.baseWidth=""+t}createMobileMenu(){this.menu=E("ul"),this.menu.classList.add("dropdown-menu"),this.querySelectorAll("li").forEach(t=>{let s=t.querySelector("a")||t.querySelector("button"),i=E("li"),o=E("a"),n=s.dataset.bsTarget||s.getAttribute("href");i.append(o),o.dataset.link=s.getAttribute("id"),o.classList.add(z,"text-wrap"),o.innerHTML=s.innerHTML.replace(/<br[^>]*>/," "),o.setAttribute("href",n),(s.classList.contains(S)||s.hasAttribute(S))&&o.classList.add(S),this.menu.append(i)}),this.append(this.menu)}handleEvent(t){let s=t.target;t.type==="show.bs.tab"?this.handleTabShow(s):s.matches(q)?this.handleNavClick(s):s.matches("."+z)&&(t.preventDefault(),this.handleDropdownClick(s))}handleDropdownClick(t){document.getElementById(t.dataset.link).dispatchEvent(new Event("click",{bubbles:!0})),this.menu.style.display="none"}handleNavClick(t){if(!t.classList.contains(p)||!this.classList.contains(N))return;let s=this.menu.querySelector("."+z+"[hidden]");s&&s.removeAttribute("hidden");let i=t.dataset.bsTarget||t.getAttribute("href"),o=this.menu.querySelector("a[href='"+i+"']");o&&o.setAttribute("hidden","hidden"),this.menu.style.display=="block"?this.menu.style.display="none":(this.menu.style.display="block",this.menu.style.top=t.parentElement.offsetHeight+"px")}makeResponsive(){this.setBaseWidth(),this.createMobileMenu()}persistHash(){document.querySelectorAll("input[name=_hash]").forEach(t=>{t.value=document.location.hash})}restoreState(){let t=document.location.hash;if(!t)return;let s=t.split("__").slice(0,-1);s.push(t),s.forEach(i=>{let o=this.querySelector("[data-bs-target='"+i+"']");o&&this.setActiveTab(o)}),this.persistHash()}setActiveTab(t){t.classList.add(p);let s=document.querySelector(t.dataset.bsTarget);s&&s.classList.add(p,P),typeof bootstrap<"u"&&(bootstrap.Tab.getInstance(t)||new bootstrap.Tab(t)).show()}removeActiveTab(){this.querySelectorAll(q+"."+p).forEach(t=>{t.classList.remove(p);let s=document.querySelector(t.dataset.bsTarget);s&&s.classList.remove(p,P)})}getActiveTab(){return this.tabs.querySelector("."+p)}setDefaultTab(){if(this.getActiveTab())return;let t=this.tabs.querySelector(q+":not(["+S+"]):not(."+S+")");t&&this.setActiveTab(t)}handleTabShow(t){if(this.hasAttribute("linkable")){let s=t.dataset.bsTarget;if(s){let i=this.getAttribute("linkable")=="nav"?"pushState":"replaceState";window.history[i](Object.assign({},history.state||{},{bstabs:!0}),"",oe(s)),this.persistHash()}}}makeLinkable(){this.removeActiveTab(),this.restoreState(),this.setDefaultTab()}connectedCallback(){f(this)}parsedCallback(){this.tabs=this.querySelector(se),this.addEventListener("show.bs.tab",this),this.hasAttribute("linkable")&&(this.makeLinkable(),this.getAttribute("linkable")=="nav"&&window.addEventListener("popstate",t=>{this.makeLinkable()})),this.hasAttribute("responsive")&&(this.addEventListener("click",this),this.makeResponsive(),j.observe(this)),this.style.visibility="visible"}disconnectedCallback(){this.removeEventListener("show.bs.tab",this),this.hasAttribute("responsive")&&(this.removeEventListener("click",this),j.unobserve(this))}},$=I;function L(e){if(e==="true")return!0;if(e==="false")return!1;if(e===""||e==="null")return null;if(e===Number(e).toString())return Number(e);if(e.indexOf("[")===0||e.indexOf("{")===0)try{return e.includes('"')||(e=e.split("'").join('"')),JSON.parse(decodeURIComponent(e))}catch{return console.log("Failed to parse "+e),{}}return e}var ie=new ResizeObserver(e=>{for(let t of e){let s=t.target,i=bootstrap.Tooltip.getInstance(s)||new bootstrap.Tooltip(s,s.parentElement.options);L(getComputedStyle(s).getPropertyValue("--tooltip-enable").trim())?i.enable():i.disable()}}),W=class extends HTMLElement{constructor(){super()}connectedCallback(){f(this)}parsedCallback(){let t={...this.dataset};for(var s in t)t[s]=L(t[s]);let i=t.toggle?t.toggle[0].toUpperCase()+t.toggle.substring(1):"Tooltip",o=this.firstElementChild;!o.hasAttribute("title")&&!t.title&&o.setAttribute("title",o.textContent.trim()),this.options=t,this.toggle=new bootstrap[i](o,this.options),this.hasAttribute("mobile")&&ie.observe(o)}},M=W;function ne(e){return Array.from(e).sort(function(t,s){return t=t.dataset.priority||0,s=s.dataset.priority||-1,s-t})}var F=new ResizeObserver(e=>{for(let t of e){let s=t.target,i=s.table,o=Array.isArray(t.contentBoxSize)?t.contentBoxSize[0]:t.contentBoxSize,n=parseInt(o.inlineSize),r=i.offsetWidth-n;if(i.offsetWidth>n){let h=s.cols.filter(m=>!m.hasAttribute("hidden")&&m.hasAttribute("data-priority"));if(h.length===0&&(h=s.cols.filter(m=>!m.hasAttribute("hidden")),h.length===1))return;h.forEach(m=>{if(r<0)return;let c=m.offsetWidth,u=m.ariaColIndex;s.toggleColumn(u,!1),s.toggleAltContent(u,!0),r-=c})}else{let m=s.cols.filter(c=>!c.hasAttribute("hidden")).reduce((c,u)=>c+parseInt(u.dataset.baseWidth),0)+50;s.cols.filter(c=>c.hasAttribute("hidden")).forEach(c=>{let u=parseInt(c.dataset.baseWidth),l=c.ariaColIndex;n<u+m||(s.toggleColumn(l,!0),s.toggleAltContent(l,!1),r+=u)})}}}),O=class extends HTMLElement{constructor(){super(),this.style.display="block",this.style.overflowX="hidden",this.altSelector=this.getAttribute("alt-selector")||".responsive-table-alt"}init(){this.table=this.querySelector("table"),this.holder=this.querySelector("thead")||this.querySelector("tr"),this.assignColIndex(),this.cols=this.holder.querySelectorAll("th"),this.cols=ne(this.cols),this.toggleAltContent(null,!1)}connectedCallback(){f(this)}parsedCallback(){this.init(),F.observe(this)}disconnectedCallback(){F.unobserve(this)}toggleColumn(t,s){this.table.querySelectorAll("[aria-colindex='"+t+"']").forEach(o=>{s?o.removeAttribute("hidden"):o.setAttribute("hidden","")})}toggleAltContent(t,s){let i=t?this.altSelector+"[data-index='"+t+"']":this.altSelector;this.table.querySelectorAll(i).forEach(n=>{s?n.removeAttribute("hidden"):n.setAttribute("hidden","")})}assignColIndex(){this.table.dataset.baseWidth=""+this.table.offsetWidth,this.querySelectorAll("tr").forEach(t=>{let s=0;t.querySelectorAll("th,td").forEach(i=>{s+=i.hasAttribute("colspan")?parseInt(i.getAttribute("colspan")):1,i.ariaColIndex||(i.ariaColIndex=""+s),i.dataset.baseWidth=""+i.offsetWidth})})}},D=O;var ae=0;function y(e){typeof e=="string"&&(e={body:e}),e=Object.assign({},{gap:"1rem",className:"",placement:"top-center",btnClose:!0,buttonLabel:"Close Notification",buttonClassName:"",animation:!0,autohide:!0,delay:5e3},e);let s={once:!0},i=d=>d[0].toUpperCase()+d.substring(1),[o,n]=e.placement.split("-"),a=n=="center"?"50%":"0",r="margin"+i(o),h="margin"+i(o=="top"?"bottom":"top"),m=n=="center"?"left":n;e.className.includes("text-white")&&!e.buttonClassName&&(e.buttonClassName="btn-close-white");let c=document.createElement("button");c.className=`btn-close flex-shrink-0 ${e.buttonClassName}`,c.ariaLabel=e.buttonLabel,c.setAttribute("data-bs-dismiss","toast");let u=document.createElement("div");u.className="toast-body",u.innerHTML=`<div class="d-flex w-100"><div class="flex-grow-1">${e.body}</div></div></div>`,u.style.overflowWrap="anywhere",e.header||u.firstChild.appendChild(c);let l=document.createElement("div");l.id=e.id||`toast-${++ae}`,l.className="toast toaster border-0 bg-white",l.role="alert",l.ariaLive="assertive",l.ariaAtomic="true",l.style[h]=e.gap,e.animation&&(l.style[r]="-48px");let C=document.createElement("div");if(C.className=`${e.className}`,C.style.borderRadius="var(--bs-toast-border-radius)",l.append(C),e.header){let d=document.createElement("div");d.className="toast-header",d.innerHTML=`<div class="d-flex align-items-center justify-content-between flex-grow-1">${e.header}</div></div>`,d.firstChild.appendChild(c),C.append(d)}C.append(u);let g=document.querySelector(`.toast-container.${e.placement}`);if(!g){let d=`${o}:0;${m}:${a};${a==="50%"?"transform: translateX(-50%)":""};z-index:1081;position:fixed;padding:${e.gap};`;g=document.createElement("div"),g.className=`toast-container toaster-container ${e.placement}`,g.style.cssText=d,document.body.insertAdjacentElement("afterbegin",g)}g.appendChild(l);let k=new bootstrap.Toast(l,{animation:e.animation,autohide:e.autohide,delay:e.delay});return l.addEventListener("show.bs.toast",()=>{e.animation&&setTimeout(()=>{let d=parseFloat(getComputedStyle(l).transitionDuration)*1e3;l.style.transition=`all ${d*4}ms cubic-bezier(0.165, 0.840, 0.440, 1.000), opacity ${d}ms linear`,l.style[r]="0px",l.style.opacity="1"},0)},s),l.addEventListener("hide.bs.toast",()=>{l.style.pointerEvents="none",e.animation&&setTimeout(()=>{let d=window.getComputedStyle(l),ee=parseFloat(d.marginBottom),te=Math.ceil(l.offsetHeight+ee);l.style.transform="scale(0)",l.style.marginTop=`-${te}px`,l.style.opacity="0"},0)},s),l.addEventListener("hidden.bs.toast",()=>{k.dispose(),l.remove()},s),k.show(),k}var v={baseClassName:"text-white"},H=class{static getOption(t){return v[t]??null}static setOption(t,s){v[t]=s}static enableGradient(){v.baseClassName="bg-gradient text-white"}static enableSoft(){v.baseClassName="text-dark bg-opacity-10"}static enableDefault(){v.baseClassName="text-white"}static toast(t,s={}){s=Object.assign({},v,s),s.body=t,s.className=s.className+" "+v.baseClassName,y(s)}static success(t,s={}){this.toast(t,{className:"bg-success",...s})}static error(t,s={}){this.toast(t,{className:"bg-danger",...s})}static warning(t,s={}){this.toast(t,{className:"bg-warning",...s})}static info(t,s={}){this.toast(t,{className:"bg-info",...s})}},B=H;var re='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',le='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"/></svg>',ce='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',de=0;function w(e={}){typeof e=="string"&&(e={body:e});let t={id:"",size:"",static:!1,animated:!0,scrollable:!0,centered:!0,fullscreen:!1,showClose:!0,closeLabel:"Close",showConfirm:!1,confirmText:ce,confirmClass:"success",showCancel:!1,cancelText:re,cancelClass:document.documentElement.dataset.bsTheme=="dark"?"dark":"light",showDeny:!1,denyText:le,denyClass:"danger",showIcon:!0,icon:"warning"};e=Object.assign({},t,e),e.id=e.id||`modal-${++de}`;let s={once:!0},i=' data-bs-backdrop="static" data-bs-keyboard="false"',o=document.createElement("template");o.innerHTML=`<div class="modal${e.scrollable?" fade":""}${e.size?" modal-"+e.size:""}" id="${e.id}"${e.static?i:""} tabindex="-1" aria-hidden="true">
  <div class="modal-dialog${e.scrollable?" modal-dialog-scrollable":""}${e.scrollable?" modal-dialog-centered ":""}${e.fullscreen?" modal-fullscreen":""}">
    <div class="modal-content text-center" style="border:0">
     <button type="button" class="btn-close position-absolute top-0 end-0 m-3" data-bs-dismiss="modal" aria-label="${e.closeLabel}"></button>
      <div class="modal-icon-holder p-3 pt-4 pb-0"><div class="modal-icon modal-${e.icon}"></div></div>
      <div class="modal-title d-flex p-3 pt-4 pb-0 align-items-center justify-content-center">
        <h5 class="fs-2">${e.title}</h4>
      </div>
      <div class="modal-body"><form>
        ${e.body}
      </form></div>
      <div class="modal-actions d-flex mt-2 justify-content-center">
        <div class="btn-group flex-fill" style="min-height:44px">
          <button type="button" data-event="cancel" class="btn btn-${e.cancelClass} rounded-0">${e.cancelText}</button>
          <button type="button" data-event="deny" class="btn btn-${e.denyClass} rounded-0">${e.denyText}</button>
          <button type="button" data-event="confirm" class="btn btn-${e.confirmClass} rounded-0">${e.confirmText}</button>
        </div>
      </div>
    </div>
    </div>
  </div>
</div>
`;let n=o.content.firstChild;e.title||n.querySelector(".modal-title").remove(),e.showIcon||n.querySelector(".modal-icon-holder").remove(),e.showClose||n.querySelector(".btn-close").remove(),e.showCancel||n.querySelector('[data-event="cancel"]').remove(),e.showDeny||n.querySelector('[data-event="deny"]').remove(),e.showConfirm||n.querySelector('[data-event="confirm"]').remove(),!e.showCancel&&!e.showDeny&&!e.showConfirm&&n.querySelector(".modal-actions").remove(),document.body.insertAdjacentElement("afterbegin",n);let a=new bootstrap.Modal(n);return n.addEventListener("hide.bs.modal",()=>{n.style.pointerEvents="none"},s),n.addEventListener("hidden.bs.modal",()=>{n.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(r=>bootstrap.Tooltip.getInstance(r).dispose()),n.querySelectorAll('[data-bs-toggle="popover"]').forEach(r=>bootstrap.Popover.getInstance(r).dispose()),a.dispose(),n.remove()},s),n.querySelectorAll(".modal-actions button").forEach(r=>{r.addEventListener("click",h=>{a.hide(),n.dispatchEvent(new CustomEvent("modal."+r.dataset.event,{detail:new FormData(n.querySelector("form")),bubbles:!0}))},s)}),n.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(r=>bootstrap.Tooltip.getInstance(r)||new bootstrap.Tooltip(r)),n.querySelectorAll('[data-bs-toggle="popover"]').forEach(r=>bootstrap.Popover.getInstance(r)||new bootstrap.Popover(r)),a.show(),e.icon&&e.animated&&e.showIcon&&n.addEventListener("shown.bs.modal",()=>n.querySelector(".modal-icon").classList.add("modal-icon-show"),s),a}function T(e={},t=null,s=null){typeof e=="string"&&(e={body:e}),e=Object.assign({static:!0,showClose:!1,showCancel:!0,showConfirm:!0},e);let i={once:!0},o=w(e),n=o.element||o._element;return t&&n.addEventListener("modal.confirm",a=>t(a),i),s&&n.addEventListener("modal.cancel",a=>s(a),i),o}var b="is-invalid",_="novalidate",ue="was-validated",U="needs-validation",G={same:(e,t,s)=>{let i=document.querySelector(s);return e==i.value},number:e=>e.length===0||isNaN(+e),digits:e=>e.length===0||/^\d+$/.test(e),alnum:e=>e.length===0||/^[a-z0-9]+$/i.test(e)};function X(e){return e.disabled||["file","reset","submit","button"].includes(e.type)}function he(e){return e?"remove":"add"}function me(e,t,s=[]){let i=G[t];if(!i)throw`Invalid rule ${t}`;return i(e.value,e,...s)}function J(e){e.dataset.validationErrors="",e.setCustomValidity("");let t=e.checkValidity(),s=e.dataset.validationRules;if(s){let i=s.split(","),o=[];i.forEach(n=>{let[a,...r]=n.split(" ");me(e,a,r)||o.push(a)}),o.length>0&&(t=!1,e.setCustomValidity("err"),e.dataset.validationErrors=o.join(","))}return t}function Y(e,t){let s=e.form;if(!s)return;let o=(e.dataset.validationTrigger||"").includes(t)&&e.value.length>0||e.classList.contains(b)||e.dataset.validationErrors;if(s.classList.contains(U)&&o&&!X(e)){let n=J(e);e.classList[he(n)](b)}}document.addEventListener("focusout",e=>{Y(e.target,"blur")});document.addEventListener("keydown",e=>{Y(e.target,"keydown")});var A=class{constructor(t){t.hasAttribute(_)||t.setAttribute(_,"");let s=t.querySelector(".alert.validation");s&&!t.classList.contains("no-scroll")&&s.scrollIntoView(),t.addEventListener("submit",i=>{if(t.querySelectorAll(".nav-tabs .nav-link."+b).forEach(o=>{o.classList.remove(b)}),t.querySelectorAll(".accordion-item."+b).forEach(o=>{o.classList.remove(b)}),Array.from(t.elements).forEach(o=>{if(X(o))return;if(J(o)){o.classList.remove(b);return}let a=o.parentElement,r=null;for(;a&&!a.classList.contains("tab-pane");)a.classList.contains("accordion-item")&&(r=a),a=a.parentElement;if(a&&!a.classList.contains("active")){let h=t.querySelector("[data-bs-target='#"+a.getAttribute("id")+"']");h&&h.classList.add(b)}r&&r.classList.add(b)}),!t.checkValidity()){i.preventDefault(),i.stopPropagation(),t.dataset.validationMessage&&typeof window.Toasts<"u"&&window.Toasts.error(t.dataset.validationMessage);let n=(t.querySelector(".tab-pane.active")||t).querySelector(":invalid");n&&n.focus()}t.classList.add(ue)},!1)}static registerRule(t,s){G[t]=s}static init(t=`.${U}`){document.querySelectorAll(t).forEach(s=>{new A(s)})}},R=A;var fe="lazyload",be="lazyload-ignore",Z=new window.IntersectionObserver((e,t)=>{e.forEach(async s=>{if(s.isIntersecting){let i=s.target;if(i.classList.contains(be))return;t.unobserve(i),Array.from(i.children).forEach(o=>{o.dispatchEvent(new Event(fe,{bubbles:!0}))})}})}),V=class extends HTMLElement{constructor(){super()}connectedCallback(){setTimeout(()=>{Z.observe(this)})}disconnectedCallback(){Z.unobserve(this)}},K=V;var x=class extends HTMLElement{connectedCallback(){f(this)}parsedCallback(){let t=this.firstElementChild;t.classList.contains("progress-ratio")&&x.setRatio(t)}static setRatio(t){let s=t.offsetWidth/300;s>8&&(s=s/3),s>4&&(s=s/2),s<.5&&(s=.5),t.style.setProperty("--indeterminate-speed",s.toFixed(2))}},Q=x;window.BSN&&!window.bootstrap&&(window.bootstrap=window.BSN);customElements.define("bs-tabs",$);customElements.define("bs-toggle",M);customElements.define("responsive-table",D);customElements.define("lazy-loader",K);customElements.define("bs-progress",Q);window.toaster=y;window.Toasts=B;window.modalizer=w;window.modalizerConfirm=T;window.FormValidator=R;var pe={BsTabs:$,BsToggle:M,ResponsiveTable:D,toaster:y,Toasts:B,modalizer:w,modalizerConfirm:T,FormValidator:R},Xe=pe;export{Xe as default};
//# sourceMappingURL=bs-companion.min.js.map
